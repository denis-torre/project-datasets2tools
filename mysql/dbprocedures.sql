############################################################
############################################################
############### Datasets2Tools Stored Procedures ###########
############################################################
############################################################

#######################################################
########## 1. Setup ###################################
#######################################################

##############################
##### 1.1 Select Database
##############################

### Use database
USE `datasets2tools`;

### Disable foreign key checks
SET FOREIGN_KEY_CHECKS=0;

#######################################################
########## 2. Add Procedures ##########################
#######################################################

##############################
##### 2.1 Select Tools
##############################

DROP PROCEDURE IF EXISTS get_tools;

DELIMITER //

CREATE PROCEDURE get_tools(IN query TEXT)

BEGIN

	SELECT `name`, icon_url, tool_url, description
		FROM tool
		WHERE `name` LIKE CONCAT('%', query, '%');
  
END //

DELIMITER ;

CALL get_tools();